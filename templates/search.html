{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1>Pokemon Search</h1>
    <form class="col-4 border p-4" method="POST">
        {{ form.hidden_tag() }}
        {{ form.search_term(class='form-control', placeholder='Search') }}
        {{ form.submit(class='btn btn-primary') }}
    </form>

    {% if pokemon %}
    <div class="mt-4 p-4" style="background-color: #f5f5f5;">
        <ul>
            <li><strong>Name:</strong> {{ pokemon.name }}</li>
            <li><strong>ID:</strong> {{ pokemon.id }}</li>
            <li><strong>HP:</strong> {{ pokemon.hp }}</li>
            <li><strong>Attack:</strong> {{ pokemon.attack }}</li>
            <li><strong>Defense:</strong> {{ pokemon.defense }}</li>
        </ul>
        <img src="{{pokemon.img_url}}" alt="image">
    </div>
    <div class="mt-2">
        <form method="POST" action="{{ url_for('save_pokemon') }}">
            {{ form.hidden_tag() }}
            <input type="hidden" name="pokemon_action" value="like">
            <input type="hidden" name="liked_pokemon" value="{{ pokemon.name }}">
            <button type="submit" class="btn btn-success">Like</button>
        </form>
        
        <form method="POST" action="{{ url_for('save_pokemon') }}">
            {{ form.hidden_tag() }}
            <input type="hidden" name="pokemon_action" value="save">
            <input type="hidden" name="saved_pokemon" value="{{ pokemon.name }}">
            <button type="submit" class="btn btn-primary">Save</button>
        </form>
    </div>
    {% endif %}
</div>
{% endblock %}
